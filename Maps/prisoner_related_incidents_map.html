<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
      }
    </style>
  </head>

  <body>
    <div id="floating-panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map"></div>
    <script>

      // This example requires the Visualization library. Include the libraries=visualization
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

      var map, heatmap;

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 13,
          center: {lat: 42.360, lng: -71.059},
          mapTypeId: 'roadmap'
        });

        heatmap = new google.maps.visualization.HeatmapLayer({
          data: getPoints(),
          map: map
        });
      }

      function toggleHeatmap() {
        heatmap.setMap(heatmap.getMap() ? null : map);
      }

      function changeGradient() {
        var gradient = [
          'rgba(0, 255, 255, 0)',
          'rgba(0, 255, 255, 1)',
          'rgba(0, 191, 255, 1)',
          'rgba(0, 127, 255, 1)',
          'rgba(0, 63, 255, 1)',
          'rgba(0, 0, 255, 1)',
          'rgba(0, 0, 223, 1)',
          'rgba(0, 0, 191, 1)',
          'rgba(0, 0, 159, 1)',
          'rgba(0, 0, 127, 1)',
          'rgba(63, 0, 91, 1)',
          'rgba(127, 0, 63, 1)',
          'rgba(191, 0, 31, 1)',
          'rgba(255, 0, 0, 1)'
        ]
        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
      }
      function changeRadius() {
        heatmap.set('radius', heatmap.get('radius') ? null : 20);
      }
      function changeOpacity() {
        heatmap.set('opacity', heatmap.get('opacity') ? null : 2);
      }
      function getPoints() {
        return [
			new google.maps.LatLng(42.335206, -71.071103),
			new google.maps.LatLng(42.344423, -71.098331),
			new google.maps.LatLng(42.303709, -71.083135),
			new google.maps.LatLng(42.342802, -71.100695),
			new google.maps.LatLng(42.338459, -71.078855),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.273897, -71.067613),
			new google.maps.LatLng(42.334018, -71.076381),
			new google.maps.LatLng(42.32952, -71.085306),
			new google.maps.LatLng(42.325445, -71.069645),
			new google.maps.LatLng(42.378659, -71.057694),
			new google.maps.LatLng(42.326966, -71.061986),
			new google.maps.LatLng(42.338068, -71.109782),
			new google.maps.LatLng(42.311277, -71.089093),
			new google.maps.LatLng(42.32885, -71.070644),
			new google.maps.LatLng(42.342419, -71.096783),
			new google.maps.LatLng(42.332108, -71.070144),
			new google.maps.LatLng(42.308699, -71.116651),
			new google.maps.LatLng(42.307342, -71.105441),
			new google.maps.LatLng(42.297555, -71.059709),
			new google.maps.LatLng(42.331306, -71.071947),
			new google.maps.LatLng(42.352666, -71.129743),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.348406, -71.086883),
			new google.maps.LatLng(42.318979, -71.079647),
			new google.maps.LatLng(42.329621, -71.057638),
			new google.maps.LatLng(42.334575, -71.105512),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.344423, -71.098331),
			new google.maps.LatLng(42.339542, -71.069409),
			new google.maps.LatLng(42.354048, -71.04639),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.343483, -71.051022),
			new google.maps.LatLng(42.328663, -71.085634),
			new google.maps.LatLng(42.281212, -71.089417),
			new google.maps.LatLng(42.341288, -71.054679),
			new google.maps.LatLng(42.341288, -71.054679),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.352135, -71.062668),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.356016, -71.137764),
			new google.maps.LatLng(42.271944, -71.062538),
			new google.maps.LatLng(42.31803, -71.077875),
			new google.maps.LatLng(42.33556, -71.074364),
			new google.maps.LatLng(42.356419, -71.068347),
			new google.maps.LatLng(42.298953, -71.076859),
			new google.maps.LatLng(42.351874, -71.149362),
			new google.maps.LatLng(42.346828, -71.143191),
			new google.maps.LatLng(42.282157, -71.079933),
			new google.maps.LatLng(42.358759, -71.061141),
			new google.maps.LatLng(42.273142, -71.110679),
			new google.maps.LatLng(42.352183, -71.055679),
			new google.maps.LatLng(42.32848, -71.070108),
			new google.maps.LatLng(42.279303, -71.079288),
			new google.maps.LatLng(42.306009, -71.113221),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.371005, -71.038977),
			new google.maps.LatLng(42.359132, -71.05505),
			new google.maps.LatLng(42.34751, -71.090114),
			new google.maps.LatLng(42.34102, -71.079721),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.284135, -71.069574),
			new google.maps.LatLng(42.34285, -71.065162),
			new google.maps.LatLng(42.348624, -71.082776),
			new google.maps.LatLng(42.336168, -71.029236),
			new google.maps.LatLng(42.338573, -71.055755),
			new google.maps.LatLng(42.33556, -71.074364),
			new google.maps.LatLng(42.361125, -71.066672),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.329949, -71.072266),
			new google.maps.LatLng(42.328571, -71.056922),
			new google.maps.LatLng(42.311905, -71.059105),
			new google.maps.LatLng(42.328726, -71.083822),
			new google.maps.LatLng(42.336363, -71.099246),
			new google.maps.LatLng(42.362608, -71.061327),
			new google.maps.LatLng(42.302542, -71.059567),
			new google.maps.LatLng(42.3213, -71.085678),
			new google.maps.LatLng(42.33556, -71.074364),
			new google.maps.LatLng(42.328663, -71.085634),
			new google.maps.LatLng(42.304435, -71.068629),
			new google.maps.LatLng(42.362608, -71.061327),
			new google.maps.LatLng(42.29862, -71.08511),
			new google.maps.LatLng(42.342414, -71.144605),
			new google.maps.LatLng(42.281508, -71.079387),
			new google.maps.LatLng(42.290196, -71.07159),
			new google.maps.LatLng(42.358759, -71.061141),
			new google.maps.LatLng(42.351002, -71.058969),
			new google.maps.LatLng(42.333021, -71.106213),
			new google.maps.LatLng(42.336766, -71.082051),
			new google.maps.LatLng(42.341465, -71.074714),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.312624, -71.089916),
			new google.maps.LatLng(42.351993, -71.060796),
			new google.maps.LatLng(42.353088, -71.062539),
			new google.maps.LatLng(42.343144, -71.095893),
			new google.maps.LatLng(42.331306, -71.071947),
			new google.maps.LatLng(42.340916, -71.087715),
			new google.maps.LatLng(42.349325, -71.080148),
			new google.maps.LatLng(42.345116, -71.076187),
			new google.maps.LatLng(42.315815, -71.062337),
			new google.maps.LatLng(42.336766, -71.082051),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.322571, -71.076888),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.272291, -71.072228),
			new google.maps.LatLng(42.326286, -71.070883),
			new google.maps.LatLng(42.318748, -71.100021),
			new google.maps.LatLng(42.34507, -71.089605),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.352312, -71.063705),
			new google.maps.LatLng(42.309719, -71.104294),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.301329, -71.109633),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.299909, -71.064248),
			new google.maps.LatLng(42.354284, -71.063804),
			new google.maps.LatLng(42.328491, -71.081213),
			new google.maps.LatLng(42.299197, -71.06047),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.298945, -71.102332),
			new google.maps.LatLng(42.326242, -71.103176),
			new google.maps.LatLng(42.335506, -71.042916),
			new google.maps.LatLng(42.268472, -71.119413),
			new google.maps.LatLng(42.287418, -71.087872),
			new google.maps.LatLng(42.334288, -71.072395),
			new google.maps.LatLng(42.295304, -71.086358),
			new google.maps.LatLng(42.299909, -71.064248),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.300978, -71.070773),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.314998, -71.091945),
			new google.maps.LatLng(42.305975, -71.070119),
			new google.maps.LatLng(42.34285, -71.065162),
			new google.maps.LatLng(42.274701, -71.093441),
			new google.maps.LatLng(42.341288, -71.054679),
			new google.maps.LatLng(42.361794, -71.057113),
			new google.maps.LatLng(42.3049, -71.079922),
			new google.maps.LatLng(42.275313, -71.115878),
			new google.maps.LatLng(42.337279, -71.038096),
			new google.maps.LatLng(42.276476, -71.092569),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.333746, -71.070204),
			new google.maps.LatLng(42.268202, -71.093673),
			new google.maps.LatLng(42.301447, -71.076813),
			new google.maps.LatLng(42.339542, -71.069409),
			new google.maps.LatLng(42.370818, -71.039291),
			new google.maps.LatLng(42.342556, -71.098079),
			new google.maps.LatLng(42.330556, -71.068516),
			new google.maps.LatLng(42.319593, -71.062607),
			new google.maps.LatLng(42.331491, -71.109947),
			new google.maps.LatLng(42.321925, -71.092294),
			new google.maps.LatLng(42.361097, -71.062061),
			new google.maps.LatLng(42.343266, -71.097193),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.370818, -71.039291),
			new google.maps.LatLng(42.362608, -71.061327),
			new google.maps.LatLng(42.300989, -71.127081),
			new google.maps.LatLng(42.333746, -71.070204),
			new google.maps.LatLng(42.272378, -71.070808),
			new google.maps.LatLng(42.304815, -71.072183),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.336063, -71.107828),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.349056, -71.150498),
			new google.maps.LatLng(42.348624, -71.082776),
			new google.maps.LatLng(42.348624, -71.082776),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.34215, -71.070604),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.297525, -71.066718),
			new google.maps.LatLng(42.355942, -71.062583),
			new google.maps.LatLng(42.300555, -71.113124),
			new google.maps.LatLng(42.351608, -71.146026),
			new google.maps.LatLng(42.352312, -71.063705),
			new google.maps.LatLng(42.336711, -71.071021),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.366008, -71.064035),
			new google.maps.LatLng(42.328663, -71.085634),
			new google.maps.LatLng(42.301546, -71.081182),
			new google.maps.LatLng(42.347671, -71.076207),
			new google.maps.LatLng(42.358955, -71.05035),
			new google.maps.LatLng(42.351155, -71.061306),
			new google.maps.LatLng(42.362608, -71.061327),
			new google.maps.LatLng(42.34285, -71.065162),
			new google.maps.LatLng(42.370818, -71.039291),
			new google.maps.LatLng(42.330933, -71.097281),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.348913, -71.062212),
			new google.maps.LatLng(42.349056, -71.150498),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.339542, -71.069409),
			new google.maps.LatLng(42.293382, -71.119217),
			new google.maps.LatLng(42.325169, -71.088865),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.323224, -71.058968),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.28957, -71.085105),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.298945, -71.102332),
			new google.maps.LatLng(42.317715, -71.09823),
			new google.maps.LatLng(42.28526, -71.064441),
			new google.maps.LatLng(42.28956, -71.077683),
			new google.maps.LatLng(42.309719, -71.104294),
			new google.maps.LatLng(42.354081, -71.059774),
			new google.maps.LatLng(42.300408, -71.07648),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.284826, -71.091374),
			new google.maps.LatLng(42.306361, -71.061954),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.285557, -71.091125),
			new google.maps.LatLng(42.356502, -71.062),
			new google.maps.LatLng(42.328663, -71.085634),
			new google.maps.LatLng(42.31872, -71.086106),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.332108, -71.070144),
			new google.maps.LatLng(42.352312, -71.063705),
			new google.maps.LatLng(42.328663, -71.085634),
			new google.maps.LatLng(42.293606, -71.071887),
			new google.maps.LatLng(42.33556, -71.074364),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.349464, -71.142704),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.338573, -71.055755),
			new google.maps.LatLng(42.298642, -71.073123),
			new google.maps.LatLng(42.250962, -71.13051),
			new google.maps.LatLng(42.313369, -71.095062),
			new google.maps.LatLng(42.318661, -71.058818),
			new google.maps.LatLng(42.298618, -71.071193),
			new google.maps.LatLng(42.30855, -71.058747),
			new google.maps.LatLng(42.26401, -71.098875),
			new google.maps.LatLng(42.34414, -71.071305),
			new google.maps.LatLng(42.316845, -71.065564),
			new google.maps.LatLng(42.33556, -71.074364),
			new google.maps.LatLng(42.339542, -71.069409),
			new google.maps.LatLng(42.315505, -71.100515),
			new google.maps.LatLng(42.311362, -71.064423),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.313414, -71.077896),
			new google.maps.LatLng(42.349056, -71.150498),
			new google.maps.LatLng(42.376203, -71.039799),
			new google.maps.LatLng(42.351608, -71.146026),
			new google.maps.LatLng(42.336498, -71.08383),
			new google.maps.LatLng(42.354048, -71.04639),
			new google.maps.LatLng(42.261421, -71.101998),
			new google.maps.LatLng(42.375366, -71.031353),
			new google.maps.LatLng(42.367589, -71.057588),
			new google.maps.LatLng(42.279512, -71.05083),
			new google.maps.LatLng(42.29795, -71.087744),
			new google.maps.LatLng(42.327797, -71.054356),
			new google.maps.LatLng(42.309719, -71.104294),
			new google.maps.LatLng(42.309719, -71.104294),
			new google.maps.LatLng(42.301838, -71.061278),
			new google.maps.LatLng(42.333708, -71.025004),
			new google.maps.LatLng(42.34285, -71.065162),
			new google.maps.LatLng(42.354048, -71.04639),
			new google.maps.LatLng(42.355216, -71.060129),
			new google.maps.LatLng(42.376632, -71.055932),
			new google.maps.LatLng(42.297555, -71.059709),
			new google.maps.LatLng(42.351318, -71.058384),
			new google.maps.LatLng(42.28577, -71.127661),
			new google.maps.LatLng(42.299197, -71.06047),
			new google.maps.LatLng(42.356502, -71.062),
			new google.maps.LatLng(42.273202, -71.170592),
			new google.maps.LatLng(42.326921, -71.058419),
			new google.maps.LatLng(42.34902, -71.081301),
			new google.maps.LatLng(42.34285, -71.065162),
			new google.maps.LatLng(42.287094, -71.148221),
			new google.maps.LatLng(42.345075, -71.076123),
			new google.maps.LatLng(42.32326, -71.082427),
			new google.maps.LatLng(42.354439, -71.059075),
			new google.maps.LatLng(42.293606, -71.071887),
			new google.maps.LatLng(42.328663, -71.085634),
			new google.maps.LatLng(42.361839, -71.059765),
			new google.maps.LatLng(42.320153, -71.062204),
			new google.maps.LatLng(42.3097, -71.085824),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.334288, -71.072395),
			new google.maps.LatLng(42.378332, -71.059697),
			new google.maps.LatLng(42.320483, -71.061514),
			new google.maps.LatLng(42.315456, -71.078082),
			new google.maps.LatLng(42.335358, -71.045909),
			new google.maps.LatLng(42.323244, -71.076425),
			new google.maps.LatLng(42.333639, -71.057018),
			new google.maps.LatLng(42.370818, -71.039291),
			new google.maps.LatLng(42.352324, -71.064002),
			new google.maps.LatLng(42.367616, -71.066014),
			new google.maps.LatLng(42.336112, -71.046654),
			new google.maps.LatLng(42.351743, -71.062759),
			new google.maps.LatLng(42.337442, -71.104281),
			new google.maps.LatLng(42.289864, -71.063159),
			new google.maps.LatLng(42.360205, -71.056208),
			new google.maps.LatLng(42.293606, -71.071887),
			new google.maps.LatLng(42.309719, -71.104294),
			new google.maps.LatLng(42.290876, -71.082741),
			new google.maps.LatLng(42.284554, -71.086209),
			new google.maps.LatLng(42.341288, -71.054679),
			new google.maps.LatLng(42.356486, -71.059281),
			new google.maps.LatLng(42.309719, -71.104294),
			new google.maps.LatLng(42.306451, -71.077304),
			new google.maps.LatLng(42.328234, -71.08329),
			new google.maps.LatLng(42.297555, -71.059709),
			new google.maps.LatLng(42.287579, -71.075273),
			new google.maps.LatLng(42.354048, -71.04639),
			new google.maps.LatLng(42.349973, -71.063488),
			new google.maps.LatLng(42.378264, -71.039184),
			new google.maps.LatLng(42.358759, -71.061141),
			new google.maps.LatLng(42.352418, -71.065255),
			new google.maps.LatLng(42.2949, -71.088059),
			new google.maps.LatLng(42.349056, -71.150498)
        ];
      }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDvXNPhgD_1RuKv4YMGz4TuJY0Do1JLUtI&libraries=visualization&callback=initMap">
    </script>
  </body>
</html>