<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
      }
    </style>
  </head>

  <body>
    <div id="floating-panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map"></div>
    <script>

      // This example requires the Visualization library. Include the libraries=visualization
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

      var map, heatmap;

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 13,
          center: {lat: 42.360, lng: -71.059},
          mapTypeId: 'roadmap'
        });

        heatmap = new google.maps.visualization.HeatmapLayer({
          data: getPoints(),
          map: map
        });
      }

      function toggleHeatmap() {
        heatmap.setMap(heatmap.getMap() ? null : map);
      }

      function changeGradient() {
        var gradient = [
          'rgba(0, 255, 255, 0)',
          'rgba(0, 255, 255, 1)',
          'rgba(0, 191, 255, 1)',
          'rgba(0, 127, 255, 1)',
          'rgba(0, 63, 255, 1)',
          'rgba(0, 0, 255, 1)',
          'rgba(0, 0, 223, 1)',
          'rgba(0, 0, 191, 1)',
          'rgba(0, 0, 159, 1)',
          'rgba(0, 0, 127, 1)',
          'rgba(63, 0, 91, 1)',
          'rgba(127, 0, 63, 1)',
          'rgba(191, 0, 31, 1)',
          'rgba(255, 0, 0, 1)'
        ]
        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
      }
      function changeRadius() {
        heatmap.set('radius', heatmap.get('radius') ? null : 20);
      }
      function changeOpacity() {
        heatmap.set('opacity', heatmap.get('opacity') ? null : 2);
      }
      function getPoints() {
        return [
			new google.maps.LatLng(42.375136, -71.032688),
			new google.maps.LatLng(42.353254, -71.048724),
			new google.maps.LatLng(42.307539, -71.060805),
			new google.maps.LatLng(42.349802, -71.07841),
			new google.maps.LatLng(42.353877, -71.058302),
			new google.maps.LatLng(42.345778, -71.084296),
			new google.maps.LatLng(42.335119, -71.074917),
			new google.maps.LatLng(42.352332, -71.07724),
			new google.maps.LatLng(42.358592, -71.059216),
			new google.maps.LatLng(42.351706, -71.1199),
			new google.maps.LatLng(42.350021, -71.065957),
			new google.maps.LatLng(42.365791, -71.051162),
			new google.maps.LatLng(42.356322, -71.055661),
			new google.maps.LatLng(42.277589, -71.117552),
			new google.maps.LatLng(42.348907, -71.071893),
			new google.maps.LatLng(42.353976, -71.06207),
			new google.maps.LatLng(42.348288, -71.078918),
			new google.maps.LatLng(42.354874, -71.058612),
			new google.maps.LatLng(42.356333, -71.054403),
			new google.maps.LatLng(42.349055, -71.152353),
			new google.maps.LatLng(42.354075, -71.055335),
			new google.maps.LatLng(42.351014, -71.072935),
			new google.maps.LatLng(42.350799, -71.065008),
			new google.maps.LatLng(42.350533, -71.051096),
			new google.maps.LatLng(42.356693, -71.053746),
			new google.maps.LatLng(42.351706, -71.1199),
			new google.maps.LatLng(42.316687, -71.112612),
			new google.maps.LatLng(42.359454, -71.059648),
			new google.maps.LatLng(42.354284, -71.063804),
			new google.maps.LatLng(42.304861, -71.081543),
			new google.maps.LatLng(42.284056, -71.090453),
			new google.maps.LatLng(42.359139, -71.061969),
			new google.maps.LatLng(42.332926, -71.02709),
			new google.maps.LatLng(42.329888, -71.084459),
			new google.maps.LatLng(42.348624, -71.082776),
			new google.maps.LatLng(42.345415, -71.084116),
			new google.maps.LatLng(42.359236, -71.12854),
			new google.maps.LatLng(42.300605, -71.061268),
			new google.maps.LatLng(42.344539, -71.073588),
			new google.maps.LatLng(42.334288, -71.072395),
			new google.maps.LatLng(42.337442, -71.104281),
			new google.maps.LatLng(42.272228, -71.070061),
			new google.maps.LatLng(42.338093, -71.098621),
			new google.maps.LatLng(42.346215, -71.087212),
			new google.maps.LatLng(42.306493, -71.081807),
			new google.maps.LatLng(42.352135, -71.062668),
			new google.maps.LatLng(42.352913, -71.075089),
			new google.maps.LatLng(42.349886, -71.14523),
			new google.maps.LatLng(42.257191, -71.120018),
			new google.maps.LatLng(42.359173, -71.059216),
			new google.maps.LatLng(42.365714, -71.060616),
			new google.maps.LatLng(42.30877, -71.074607),
			new google.maps.LatLng(42.349802, -71.07841),
			new google.maps.LatLng(42.356502, -71.062),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.356047, -71.052343),
			new google.maps.LatLng(42.307967, -71.062098),
			new google.maps.LatLng(42.375153, -71.064099),
			new google.maps.LatLng(42.375001, -71.034179),
			new google.maps.LatLng(42.352459, -71.137626),
			new google.maps.LatLng(42.349689, -71.077113),
			new google.maps.LatLng(42.366718, -71.122703),
			new google.maps.LatLng(42.275045, -71.067313),
			new google.maps.LatLng(42.359884, -71.060162),
			new google.maps.LatLng(42.316821, -71.048427),
			new google.maps.LatLng(42.380482, -71.060877),
			new google.maps.LatLng(42.349886, -71.14523),
			new google.maps.LatLng(42.377968, -71.064159),
			new google.maps.LatLng(42.353581, -71.062367),
			new google.maps.LatLng(42.351706, -71.1199),
			new google.maps.LatLng(42.362608, -71.061327),
			new google.maps.LatLng(42.30877, -71.074607),
			new google.maps.LatLng(42.330441, -71.083735),
			new google.maps.LatLng(42.337442, -71.104281),
			new google.maps.LatLng(42.358962, -71.061532),
			new google.maps.LatLng(42.316821, -71.048427),
			new google.maps.LatLng(42.33285, -71.044172),
			new google.maps.LatLng(42.342556, -71.098079),
			new google.maps.LatLng(42.333746, -71.070204),
			new google.maps.LatLng(42.380532, -71.035104),
			new google.maps.LatLng(42.356314, -71.057781),
			new google.maps.LatLng(42.34589, -71.160233),
			new google.maps.LatLng(42.289622, -71.071419),
			new google.maps.LatLng(42.337442, -71.104281),
			new google.maps.LatLng(42.353607, -71.166621),
			new google.maps.LatLng(42.349886, -71.14523),
			new google.maps.LatLng(42.316821, -71.048427),
			new google.maps.LatLng(42.344396, -71.08632),
			new google.maps.LatLng(42.385946, -71.009024),
			new google.maps.LatLng(42.318629, -71.072714),
			new google.maps.LatLng(42.355264, -71.050988),
			new google.maps.LatLng(42.278399, -71.066363),
			new google.maps.LatLng(42.351706, -71.1199),
			new google.maps.LatLng(42.351706, -71.1199),
			new google.maps.LatLng(42.330948, -71.082851),
			new google.maps.LatLng(42.362403, -71.069547),
			new google.maps.LatLng(42.352947, -71.13115),
			new google.maps.LatLng(42.330948, -71.082851),
			new google.maps.LatLng(42.313598, -71.090399),
			new google.maps.LatLng(42.349111, -71.155273),
			new google.maps.LatLng(42.368902, -71.03981),
			new google.maps.LatLng(42.348577, -71.07772),
			new google.maps.LatLng(42.374795, -71.066009)
        ];
      }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDvXNPhgD_1RuKv4YMGz4TuJY0Do1JLUtI&libraries=visualization&callback=initMap">
    </script>
  </body>
</html>